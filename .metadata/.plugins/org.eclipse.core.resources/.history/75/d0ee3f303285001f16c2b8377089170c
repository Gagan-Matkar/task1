package com.example.Csv_extractor;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;

import org.testng.*;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

public class AppTest{
	
	
	
	public static Connection testConnection;
	
	@BeforeClass
	public static void setUp() throws SQLException{
		
		String h2Url = "jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1";
		testConnection = DriverManager.getConnection(h2Url, "sa", "");
		
		try (Statement stmt = testConnection.createStatement()) {
            String createTableSQL = "CREATE TABLE demo_acc (account_id VARCHAR(255) PRIMARY KEY, account_login VARCHAR(255), account_status VARCHAR(255), meta_type VARCHAR(255));";

            stmt.execute(createTableSQL);
        }
		App.setConnection(testConnection);
		
	}
		
	
	
	
	@Test
	public void foo() {
		System.out.println("Testing");
	}
	
}


